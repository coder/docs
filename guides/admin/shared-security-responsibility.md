---
title: Shared security responsibility
description:
---

The Coder ecosystem consists of multiple components supporting the developer's
primary user experience, and many of the components must be manually deployed
and configured.

You can categorize the Coder ecosystem into two groups:

- Kubernetes and networking-related components
- External tie-ins, such as authentication, container registries, and Git
  providers

## Shared security in Kubernetes and networking-related components

All software depends on the system on which it is installed to provide some
security boundaries.

- Storage
  - Quotas
  - Encryption
  - Cloud access to volumes
  - Depletion as denial of service
    - PVC
    - Ephemeral
- Networking
  - Encryption (mTLS)
    - Certificates
      - TLS certificates presented by `coderd`
      - TLC certificates presented by the applications with which Coder
        interacts
  - Boundaries (defined by network policies)
  - External interactions (ingress and egress)
  - IP address depletion as denial of service
    - Each workspace gets an IP in the pod subset
    - Each dev URL gets an IP address in the services subnet
- Kubernetes roles
  - Services accounts for Coder to create pods
  - Cluster admins as a security risk
  - Cloud access to the control plane
- Node security
  - Upgrading to keep up with Kubernetes
  - Node user account access
  - Cloud access to nodes

### Coder in its own cluster

The easiest implementation and the one we recommend is to install Coder onto its
own Kubernetes cluster.

### Coder in a shared cluster

Installing Coder onto a cluster that's shared with other applications means that
the security boundary is threaded through the components mentioned above and its
configurations.

## External tie-ins

Coder makes certain assumptions about the configurations of the following
environments that act as security controls when Coder is deployed.

- Authentication providers
  - Incorrect configuration can compromise Coder security
  - Ability to convert a user account logging in via OIDC to built-in allows an
    administrator to impersonate an end-user
- Container registries
  - Select roles can add registries
  - The registry account used to add the registry needs to be a specific
    Coder-only account so that only approved images can be pulled
  - CVMs can only pull unauthenticated containers
  - Any user can reference the containers in the registry
- Git providers
  - OAuth linkage allows a Coder admin to perform actions as the Git user
  - SSH keys generated by Coder are added to workspaces, which can be used to
    create 2FA to Coder via GitLab
  - Git provider integration needs both SSH and HTTPS access to work
  - To clone private dotfiles repos, access to all user repos is added to the
    Coder workspace
  - Coder doesn't allow the linking of multiple Git providers of the same type
  - Disabling the OAuth linked account can result in a denial of service
