---
title: "1.22.0"
description: "Released on 08/18/2021"
---

### Breaking changes ‚ùó

- infra: the following features have been deprecated and require migration:
  - The Coder Helm chart no longer includes `envproxy`. To update Coder's Helm
    chart, run `coderd.useServiceNext=true`.
  - The workspace provider Helm chart has been removed; ensure that existing
    workspace providers have been migrated to a satellite deployment.

### Features ‚ú®

- P2P connections: added ability to connect to workspaces using WebRTC STUN,
  which establishes a direct connection to workspaces.
- Cached CVMs: cached container-based virtual machines (CVMs) will improve the
  startup experience of CVM workspaces; previously, CVM workspaces suffered from
  slow startup times due to the `envbox` Docker daemon's inability to utilize
  the cache on the node. With the cache on the node accessible, Coder's also
  eliminated the need to run `dockerd` in `envbox`. To enable cached CVMs, go to
  **Manage** > **Admin** > **Infrastructure**. Scroll down to **Workspace
  Container Runtime**, and toggle **Enable Caching** to **On**.
- infra: added ability to enable dynamically load `shiftfs`.
- web: added progress bar to the workspace's build log.
- web: moved workspace build information to the top of the build log.
- web: added Android Studio support.
- web: added ability to see the active number of licenses in use. See
  **Manage** > **Admin** > **License**.
- infra: updated `envbox` to always use Docker 20.10.3 or later.
- infra: set Networking v2 as the default; the feature flag has been removed.
- web: added ability to use hyphens and underscores in dev URLs.
- web: added improved logging and error messages to the workspace creation
  process for image import failures.
- cli: added `coder ws ping <workspace_name>` command that returns information
  regarding workspace latency.
- cli: updated `coder sh` to use a WebRTC tunnel.
- web: added base CPU and memory requirements to the **Create Workspace** UI
  when creating a workspace based on a packaged image.
- infra: added username validation to clarify acceptable input
- infra: added check to prevent the installation of Coder onto an unsupported
  version of Kubernetes; Helm will return an error if there is an attempt to
  install Coder on an unsupported version of Kubernetes.

### Bug fixes üêõ

- web: fixed grammar errors and improved messaging in UI.
- web: fixed issue with the sign-in page so that it always displays OIDC login
  option when configured.
- web: fixed issue with linking to GitHub when the Coder SSH key has been added
  already to GitHub.
- web: fixed issue where required rebuild messages do not disappear until the
  page is refreshed.
- web: fixed rendering issues related to the workspace status bar.
- web: removed non-functioning toggle to disable system notifications.
- web: fixed issue with Coder moving back into setup mode if the authentication
  configuration process fails.
- web: fixed **Images** page sort; Coder now sorts the entire list instead of
  the current page.
- cli: the Coder CLI now returns an error message if a user attempts to connect
  to an offline workspace via SSH.
- infra: fixed issue with `coderd` attempting to use the access URL to connect
  to a workspace for load balancing purposes; `coderd` now uses `localhost`
  instead.

### Security updates üîê

- infra: updated `Content-Security-Policy` to be stricter.
- infra: updated `CORS` header to prevent cookies from being sent to Coder
  subdomains.
- infra: implemented dev URL-specific tokens that cannot be used for
  authentication.
